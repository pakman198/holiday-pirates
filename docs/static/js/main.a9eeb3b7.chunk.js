(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},140:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);a(76);var n=a(0),r=a.n(n),c=a(74),s=a.n(c),l=(a(114),a(23)),o=a(8),i=a(9),m=a(11),u=a(10),v=a(12),h=(a(116),a(29)),d=a.n(h),p=function(e){return r.a.createElement("button",{id:"loadHotels",onClick:function(t){t.preventDefault(),e.fetchHotels()},className:"btn btn-secondary"},"Load Hotels")},E=(a(136),a(138),a(140),function(e){console.log({props:e});var t=e.data;return r.a.createElement("div",{className:"review"},r.a.createElement("div",{className:"type"},r.a.createElement("div",{className:"icon"},r.a.createElement("span",null,t.positive?"+":"\u2013"))),r.a.createElement("div",{className:"content"},r.a.createElement("h4",null,t.name),r.a.createElement("p",{className:"m-0"},t.comment)))}),f=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log(this.props);var e,t=this.props.reviews,a=t.map(function(e,t){return r.a.createElement(E,{key:t,data:e})});return e=0!==t.length?a:r.a.createElement("div",null,"This hotel has no reviews yet!"),r.a.createElement("div",{className:"reviews-list"},e)}}]),t}(r.a.Component),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={requestedReviews:!1,reviews:[],reviewsVisible:!1},a.renderStars=function(e){for(var t=[],a=1;a<=5;++a){var n=r.a.createElement("span",{key:a,className:a<e?"star":""},"\u2605");t.push(n)}return t},a.clickHandler=function(e){var t=a.state,n=t.requestedReviews,r=t.reviewsVisible;n?r?a.setState({reviewsVisible:!1}):a.setState({reviewsVisible:!0}):a.fetchReviews(e)},a.fetchReviews=function(e){var t="http://fake-hotel-api.herokuapp.com/api/reviews?hotel_id=".concat(e);d.a.get(t).then(function(e){var t=e.data;a.setState({reviews:Object(l.a)(t),requestedReviews:!0,reviewsVisible:!0})}).catch(function(e){console.log("error")})},a}return Object(v.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.reviewsVisible,n=t.reviews,c=this.props,s=c.data,l=c.data,o=l.date_start,i=l.date_end,m=new Date(o),u=new Date(i);return r.a.createElement("div",{className:"hotel-container"},r.a.createElement("div",{className:a?"hotel reviews-display":"hotel"},r.a.createElement("div",{className:"photo",style:{backgroundImage:"url(".concat(s.images[0],")")}}),r.a.createElement("div",{className:"data"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"name"},r.a.createElement("h2",null,s.name),r.a.createElement("p",null,r.a.createElement("span",{className:"country"},s.country),"-",r.a.createElement("span",{className:"city"},s.city))),r.a.createElement("div",{className:"stars"},this.renderStars(s.stars))),r.a.createElement("div",{className:"description"},s.description),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"action"},r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(t){t.preventDefault(),e.clickHandler(s.id)}},"Show reviews")),r.a.createElement("div",{className:"price"},r.a.createElement("p",{className:"value mb-1"},s.price," \u20ac"),r.a.createElement("p",null,m.toLocaleDateString("de-DE"),"-",u.toLocaleDateString("de-DE")))))),a?r.a.createElement(f,{reviews:n}):null)}}]),t}(r.a.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.hotels.map(function(e,t){return r.a.createElement(b,{key:t,data:e})});return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"hotels-list"},e)))}}]),t}(r.a.Component);a(142).polyfill();var N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).fetchHotels=function(){d.a.get("http://fake-hotel-api.herokuapp.com/api/hotels?count=5").then(function(e){var t=e.data;console.log({data:t});var n=a.state.hotels;a.setState({hotelsError:!1,hotels:[].concat(Object(l.a)(n),Object(l.a)(t))})}).catch(function(e){console.log(e),a.setState({hotelsError:!0})})},a.errorMessage=r.a.createElement("div",{className:"alert alert-secondary"},"An error occurred"),a.state={hotels:[],hotelsError:!1},a}return Object(v.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.hotelsError,a=e.hotels;return r.a.createElement("div",{className:"App container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(p,{fetchHotels:this.fetchHotels}),t?this.errorMessage:null,a.length>0?r.a.createElement(w,{hotels:a}):null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,a){e.exports=a(143)}},[[75,2,1]]]);
//# sourceMappingURL=main.a9eeb3b7.chunk.js.map